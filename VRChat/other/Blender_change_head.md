# 模型文件

将俩模型文件放入同一文件夹，如果有重名文件可重命名然后参考[问题](#问题：导入后材质贴图不显示)进入软件后选择相应贴图

# Blender基本操作

鼠标中键：按住旋转

鼠标滑轮：放大/缩小

Shift+鼠标中键：按住移动

CTRL+鼠标中键：按住上下移动为放大/缩小

# 一、导入第一个模型（头部）

导入模型后如果是MMD模型请`Fix Model`，若不是进入下一步（Fix可能会出错）

可以选择骨骼，按`H`以隐藏，方便观察

然后点击`CATS`-`Model Option`-`Separate by`-`材质`以分离材质

## 1）材质

### 头部和身体分开

直接将身体部分删除即可

### 头部和身体连一起

选中衣服/身体，按`TAB`进入`编辑模式`

使用`鼠标左键`点选或`按住框选`，按`Shift+鼠标左键`添加选择，按`CTRL+鼠标左键`取消选择

框选个大概后，按`CTRL+L`选取连接的面

然后按`X`-`顶点`以删除，然后按`TAB`以退出`编辑模式`进入`物体模式`

重复至删除完毕

## 2）骨骼

按`ALT+H`以显示所有隐藏的物品

选中骨架，按`TAB`进入`编辑模式`

* 选中一个上级骨骼，按`Shift+G`-`子级`，可选中当前骨骼的所有自己

* 选中一个骨骼末端，按`CTRL`选中其他骨骼可从子级选中上级骨骼

然后按`X`-`骨骼`即可删除骨骼，重复至删除完毕，然后按`TAB`以退出`编辑模式`进入`物体模式`

在右上`场景集合`按`A`选取所有物品，然后按`H`以隐藏

骨骼保留至`Neck`

# 二、导入第二个模型（身体）

和上一步差不多，不过是去掉头部

# 问题：导入后材质/贴图不显示

选中模型，右下进入`材质属性`，选中缺失/异常的贴图

滑倒最底部的`MMD Texture`，在`Texture`点击`添加`，选中相应贴图

# 三、接头

## 1）大致位置

可以在`物体模式`下按`Shift`选择一些材质后按`CTRL+J`合并材质

然后将头部移动到大致位置（可通过移动骨骼）

选中骨骼，按`G`后按`X/Y/Z`以使其在X/Y/Z轴移动，点击即移动完成

## 2）合并

在`CATS`-`Custom Model Creation`

如果按此文章顺序进行(先身体后头部)，直接选择选择`Merge Armatures`

若不是，`Base/基础(基数)`为头部，`To Merge`为身体

## 3）分离脖子

先分离材质，点击`CATS`-`Model Option`-`Separate by`-`材质`

头部需要分离一段脖子以防止破坏形态键

选中头部，按`TAB`进入`编辑模式`，然后选择一圈脖子

可按`C`键，然后`鼠标左键`拖拽选择，`鼠标中键`拖拽取消选择，`鼠标右键退出`

选择完毕后按`P`-`选中项`将脖子分离出来

### 去除形态键

然后按`TAB`退出`编辑模式`，进入`物体模式`

选中分离出的脖子，在右下`物体数据属性`的`形态键`，按`-`删除所有形态键

# 四、接面

可以隐藏其他东西，只显示脖子与身体方便观察

可以先分别将俩进行删除部分以大致适配

在`物体模式`按`Shift`选中俩后按`CTRL+J`合并材质，然后按`TAB`进入`编辑模式`

选中俩顶点，然后按`M`-`到中心`，如果上下顶点不一可以选三个顶点

## 1）粗细

选中两圈或多圈后`鼠标右击`-`平滑顶点`，多点几次，直到满意

## 2）颜色

若头部与身体颜色相差过大，可进PhotoShop修改 ~~（不会，不写啦）~~

也可进入`纹理绘制`模式自行看看，例如使用`涂抹`工具

# 五、测试

选中骨架，左上角进入`姿态模式`，然后旋转骨骼查看是否正常

选中骨骼，按`R`后按`X/Y/Z`以使其在X/Y/Z轴旋转，点击即旋转完成，然后`CTRL+Z`撤销操作

注：一般权重是对的，有些权重错误进Unity会变得正常

# 六、权重

## 1）分离材质

为方便刷取权重，可以分离相关材质

首先使用`CATS`-`Model Option`-`Separate by`-`材质`分离

如果需要刷取的地方被分离可进入权重绘制，如果需要再分

选取需要分的部分，按`TAB`进入`编辑模式`，选取需要分出来的部分后按`P`-`选中项`即可分离

## 2）权重绘制

在`物体模式`下，选中骨架，然后按住`Shift`选择需要刷权重的部分，再在左上角进入`权重绘制`模式

按`CTRL`+`鼠标左键`选择某骨骼可绘制该骨骼的权重